customElements.define("video-cubo",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML='\n\t\t<style>\n\t\t\t:host{\n\t\t\t\tposition:relative;\n\t\t\t\tdisplay:block;\n\t\t\t\twidth:100%;\n\t\t\t\theight:500px;\n\t\t\t\tmargin:0 auto;\n\t\t\t\tbackground-color:black;\n\t\t\t\t--wrap-width:400px;\n\t\t\t\t--wrap-height:400px;\n\t\t\t\t\n\t\t\t\t--screen-dim:300px;\n\n\t\t\t\t--seat-height:60px;\n\t\t\t\t--seat-brace:5px;\n\t\t\t}\n\n\t\t\t#screen{\n\t\t\t\tposition:relative;\n\t\t\t\tmargin:auto;\n\t\t\t\twidth:calc(1.8 * var(--screen-dim));\n\t\t\t\theight:var(--screen-dim);\n\t\t\t}\n\t\t\t#screen > video{\n\t\t\t\tobject-fit:fill;\n\t\t\t\twidth:100%;\n\t\t\t\tposition:relative;\n\t\t\t\tmargin:auto;\n\t\t\t}\n\n\t\t\t#wrapper{\n\t\t\t\tposition:relative;\n\t\t\t\ttop:calc(-.5 * var(--screen-dim));\n\t\t\t\twidth:var(--wrap-width);\n\t\t\t\theight:var(--wrap-height);\n\t\t\t\tperspective:400px;\n\t\t\t\ttransform-style:preserve-3d;\n\t\t\t\ttransform:rotateX(-60deg);\n\t\t\t\tperspective-origin:50% 50%;\n\t\t\t}\n\t\t\t.seat{\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:200px;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-end\n\t\t\t}\n\t\t\t.seat > img{\n\t\t\t\tposition:absolute;\n\t\t\t\tleft:var(--seat-brace);\n\t\t\t\ttop:calc(-.4 * var(--seat-height));\n\t\t\t\twidth:calc(6 * var(--seat-brace));\n\t\t\t\theight:calc(6 * var(--seat-brace));\n\t\t\t\tz-index:-5;\n\t\t\t\tcursor:pointer;\n\t\t\t}\n\t\t\t.brace1{\n\t\t\t\twidth:var(--seat-brace);\n\t\t\t\theight:calc(.6 * var(--seat-height));\n\t\t\t\tbackground-color:brown;\n\t\t\t\tz-index:5;\n\t\t\t}\n\t\t\t.back{\n\t\t\t\twidth:calc(6 * var(--seat-brace));\n\t\t\t\theight:var(--seat-height);\n\t\t\t\tbackground-color:red;\n\t\t\t\tborder-radius:6px 6px 0 0;\n\t\t\t\tz-index:5;\n\t\t\t}\n\t\t\t.brace2{\n\t\t\t\twidth:var(--seat-brace);\n\t\t\t\theight:calc(.75 * var(--seat-height));\n\t\t\t\tbackground-color:brown;\n\t\t\t\tz-index:5;\n\t\t\t}\n\t\t\t\n\t\t\t.testo{\n\t\t\t\tpadding: 0 2em;\n\t\t\t\tfont-family: \'Lato\', sans-serif;\n\t\t\t\tcolor:white;\n\t\t\t\ttext-align: left;\n\t\t\t\twidth:80%;\n\t\t\t}\n\t\t</style>\n\n\t\t<div style="display:flex;flex-direction:row;align-items:flex-start;">\n\t\t\t<div style="position:relative;width:60%;display:flex;flex-direction:column;align-items:center;">\n\t\t\t\t<div id="screen">\n\t\t\t\t\t<video id="video" autoplay controls></video>\n\t\t\t\t</div>\n\t\t\t\t<div id="wrapper"></div>\n\t\t\t</div>\n\t\t\t<div style="position:relative;width:40%;display:flex;flex-direction:column;align-items:flex-start;">\n\t\t\t\t<slot class="testo" name="testo">ciao</slot>\n\t\t\t\t<p class="testo" style="font-style:italic;">Seats offered by: Css3D transforms</p>\n\t\t\t\t<p class="testo"><b>Click a person in the audience!</b></p>\n\t\t\t\t<p id="description" class="testo"></p>\n\t\t\t</div>\n\t\t</div>\n\t\t'}connectedCallback(){this.videoSrc=this.getAttribute("files").split("&"),this.video=this.shadowRoot.getElementById("video"),this.video.setAttribute("src",this.videoSrc[0]),this.wrapper=this.shadowRoot.getElementById("wrapper");let t=getComputedStyle(this);this.dimensions=[parseFloat(t.getPropertyValue("--wrap-width")),parseFloat(t.getPropertyValue("--wrap-height"))],this.positions=[[3,2,0,"Liquid simulation from an Origami shape, nice and silly"],[6,4,1,"Soft body simulation of a well known candy, cuts on calories"],[8,5,2,"Short video made for learning purposes"],[2,4,3,"Rigged and animated character imported in Threejs"],[8,2,4,"Video game draft with rigged and animated assets imported in unity"],[1,1,5,"Small plug-in for Blender with procedural generation of parametrized spikes, written in Python"]];for(let t=0;t<10;t++)for(let e=0;e<6;e++){let n=-1;for(let i of this.positions)i[0]==t&&i[1]==e&&(n=i[2]);let i=5-Math.abs(t-5)-.5;4!=t&&5!=t&&this.createSeat(200+45*(t-5),0,20*e,`rgb(${20*(6-e+i)},0,0)`,n)}}createSeat(t,e,n,i,a=-1){let o=document.createElement("div");if(o.classList.add("seat"),o.style=`\n\t\ttransform: translate3d(${t}px,${e}px,${n}px);\n\t\t`,this.wrapper.append(o),-1!=a){let t=document.createElement("img");t.src="./images/person.svg",t.style.filter=`hue-rotate(${60*a%360}deg)`,o.append(t),t.addEventListener("click",(()=>{this.video.setAttribute("src",this.videoSrc[a]);for(let t of this.positions)t[2]==a&&(this.shadowRoot.getElementById("description").innerHTML=t[3])}))}let r=document.createElement("div");r.classList.add("brace1"),o.append(r);let s=document.createElement("div");s.classList.add("back"),s.style.backgroundColor=i,o.append(s);let l=document.createElement("div");return l.classList.add("brace2"),o.append(l),o}}),customElements.define("grafico-2d",class extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});this._series,this._data,this.width,this.height,this.can,this.ctx,t.innerHTML='\n\t\t<style>\n\t\t\t:host{\n\t\t\t\tmargin:0 auto;\n\t\t\t}\n\t\t</style>\n\t\t<canvas id="canvas"></canvas>\n\t\t'}connectedCallback(){this._series=this.getAttribute("series").split(","),this.width=this.getAttribute("width")?Number(this.getAttribute("width")):400,this.height=this.getAttribute("height")?Number(this.getAttribute("height")):200,this.can=this.shadowRoot.getElementById("canvas"),this.can.width=this.width,this.can.height=this.height,this.ctx=this.can.getContext("2d"),this.ctx.translate(0,this.can.height),this.ctx.scale(1,-1),this.ctx.save()}get series(){return this._series}set data(t){this._data=t,this.valutaData()}valutaData(){let t=this.ctx,[e,n]=[this.width,this.height];e-=20,n-=20;let i=e/Math.max(...this._data[0]),a=n/Math.max(...this._data[1]),o=[];for(let t=0;t<this._data[0].length;t++)o.push([this._data[0][t],this._data[1][t]]);t.clearRect(0,0,e+20,n+20),t.fillStyle="black",t.fillRect(0,0,e+20,n+20),t.fillStyle="blue";for(let e of o)t.fillRect(e[0]*i+10,10,1,e[1]*a)}}),customElements.define("grafico-wrapper",class extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});this.separator=",",this.types="nn",this._data,t.innerHTML="\n\t\t<style>\n\t\t\t:host{\n\t\t\t\tposition:relative;\n\t\t\t\t--total-height:20em;\n\t\t\t\t--square-side:20em;\n\t\t\t\tdisplay:block;\n\t\t\t\twidth:100%;\n\t\t\t\theight:var(--total-height);\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:0;\n\t\t\t\toverflow:hidden;\n\t\t\t\tfont-family: 'Lato', sans-serif;\n\t\t\t\toverflow:hidden;\n\t\t\t}\n\n\t\t\t@media only screen and (min-width:768px){\n\t\t\t}\n\t\t</style>\n\n\t\t<div id=\"container\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t\t"}connectedCallback(){let t=this.hasAttribute("file")?this.getAttribute("file"):"";this.hasAttribute("types")&&(this.types=this.getAttribute("types")),this.hasAttribute("separator")&&(this.separator=this.getAttribute("separator")),t&&fetch(`./data/${t}`).then((t=>t.text())).then((t=>this.parsa(t)))}parsa(t){t=(t=(t=t.replace(/\r/g,"")).replace(/\t/g," ")).split("\n");for(let[e,n]of t.entries())t[e]=n.split(this.separator);if(t[0].length!=this.types.length)console.error("Types mismatch error");else{for(let e of t)for(let t=0;t<this.types.length;t++)e[t]=this.convertType(e[t],t);this._data=t,this.connectChildren()}}convertType(t,e){switch(this.types[e]){case"n":t=Number(t);break;case"s":break;case"t":10==t.length&&(t*=1e3),t=new Date(t).toLocaleDateString()}return t}connectChildren(){let t=[];for(let e of this.querySelectorAll("grafico-2d"))t.push(e.series);let e=[];for(let n of t){let t=[];for(let e of n)t.push([]);e.push(t)}for(let n of this._data)for(let[i,a]of t.entries())for(let[t,o]of a.entries())e[i][t].push(n[o]);for(let[t,n]of this.querySelectorAll("grafico-2d").entries())n.data=e[t]}}),customElements.define("vetrina-tridimensionale",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML='\n\t\t<style>\n\t\t\t:host{\n\t\t\t\tbackground-color:gray;\n\t\t\t\tbox-sizing:border-box;\n\t\t\t\tposition:relative;\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:5%;\n\t\t\t\twidth:100%;\n\t\t\t\tdisplay:grid;\n\t\t\t\tgrid-template-columns: 100%;\n\t\t\t\tgrid-template-rows: auto;\n\t\t\t\tbackground-image:radial-gradient(circle at bottom right,rgb(255,255,0)10% ,rgb(255,255,255) 50%);\n\t\t\t\tjustify-items:center;\n\t\t\t\tfont-family: \'Lato\', sans-serif;\n\t\t\t}\n\t\t\t#sovratitolo{\n\t\t\t\tz-index:10;\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:.1em;\n\t\t\t\tleft:0;\n\t\t\t\tcolor:white;\n\t\t\t\twidth:70%;\n\t\t\t\tbackground-image:linear-gradient(135deg,rgba(0,0,0,255) 65%,rgba(0,0,0,0) 75%);\n\t\t\t}\n\t\t\t#sovratitolo p{\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:0;\n\t\t\t\tposition:relative;\n\t\t\t\tleft:1em;\n\t\t\t}\n\t\t\t#modello{\n\t\t\t\tmargin-top:3em;\n\t\t\t\tgrid-row:1;\n\t\t\t\tgrid-column:1;\n\t\t\t\tz-index:0;\n\t\t\t}\n\t\t\t#contenuti{\n\t\t\t\tmargin-bottom:3em;\n\t\t\t\tgrid-row:2;\n\t\t\t\tgrid-column:1;\n\t\t\t\tz-index:10;\n\t\t\t}\n\t\t\t#tasto-personalizzazione{\n\t\t\t\tposition:absolute;\n\t\t\t\tbottom:1em;\n\t\t\t\tright:0;\n\t\t\t\tcolor:white;\n\t\t\t\twidth:50%;\n\t\t\t\tbackground-image:linear-gradient(315deg,rgba(255,255,255,255) 65%,rgba(0,0,0,0) 75%);\n\t\t\t}\n\t\t\t#tasto-personalizzazione p{\n\t\t\t\tposition:relative;\n\t\t\t\tright:1em;\n\t\t\t\ttext-align:right;\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:0;\n\t\t\t\tcolor:black;\n\t\t\t\tcursor:pointer;\n\t\t\t}\n\t\t\t#tasto-personalizzazione p:hover{\n\t\t\t\ttext-shadow:2px 2px 5px gray;\n\t\t\t}\n\t\t\t#customize{\n\t\t\t\tmargin-bottom:4em;\n\t\t\t\tdisplay:none;\n\t\t\t\twidth:100%;\n\t\t\t}\n\t\t\t#customize .swatches{\n\t\t\t\tdisplay:flex;\n\t\t\t\twidth:100%;\n\t\t\t\tposition:relative;\n\t\t\t\tjustify-content:end;\n\t\t\t\talign-items:center;\n\t\t\t}\n\t\t\t#customize .swatches h3{\n\t\t\t\tmargin:0 .25em;\n\t\t\t}\n\t\t\t#customize h2{\n\t\t\t\tmargin:1em 0;\n\t\t\t\tmargin-left:1em;\n\t\t\t}\n\t\t\t#customize h3{\n\t\t\t\tmargin:0 1px;\n\t\t\t}\n\t\t\t#customize .color{\n\t\t\t\twidth:2em;\n\t\t\t\theight:2em;\n\t\t\t\tborder-radius:2px;\n\t\t\t\tborder:1px solid white;\n\t\t\t\tmargin:0 .25em;\n\t\t\t\tcursor:pointer;\n\t\t\t}\n\t\t\t@media only screen and (min-width:768px){\n\t\t\t\t:host{\n\t\t\t\t\tbox-sizing:border-box;\n\t\t\t\t\tposition:relative;\n\t\t\t\t\tmargin:0;\n\t\t\t\t\tpadding:5%;\n\t\t\t\t\twidth:100%;\n\t\t\t\t\tdisplay:grid;\n\t\t\t\t\tgrid-template-columns: 43% 43%;\n\t\t\t\t\tgrid-template-rows: auto;\n\t\t\t\t\tgap:4%;\n\t\t\t\t\tbackground-image:radial-gradient(circle at bottom right,rgb(255,255,0)10% ,rgb(255,255,255) 50%);\n\t\t\t\t\tjustify-items:center;\n\t\t\t\t}\n\t\t\t\t#sovratitolo{\n\t\t\t\t\tz-index:10;\n\t\t\t\t\tposition:absolute;\n\t\t\t\t\ttop:.5em;\n\t\t\t\t\tleft:0;\n\t\t\t\t\tcolor:white;\n\t\t\t\t\twidth:50%;\n\t\t\t\t\tbackground-image:linear-gradient(135deg,rgba(0,0,0,255) 65%,rgba(0,0,0,0) 75%);\n\t\t\t\t}\n\t\t\t\t#sovratitolo p{\n\t\t\t\t\tmargin:0;\n\t\t\t\t\tpadding:0;\n\t\t\t\t\tposition:relative;\n\t\t\t\t\tleft:1em;\n\t\t\t\t}\n\t\t\t\t#modello{\n\t\t\t\t\tgrid-row:1;\n\t\t\t\t\tgrid-column:1;\n\t\t\t\t\tz-index:0;\n\t\t\t\t}\n\t\t\t\t#contenuti{\n\t\t\t\t\tgrid-row:1;\n\t\t\t\t\tgrid-column:2;\n\t\t\t\t\tz-index:10;\n\t\t\t\t}\n\t\t\t\t#tasto-personalizzazione{\n\t\t\t\t\tposition:absolute;\n\t\t\t\t\tbottom:1em;\n\t\t\t\t\tright:0;\n\t\t\t\t\tcolor:white;\n\t\t\t\t\twidth:30%;\n\t\t\t\t\tbackground-image:linear-gradient(315deg,rgba(255,255,255,255) 65%,rgba(0,0,0,0) 75%);\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\n\t\t\n\t\t<h1 id="sovratitolo">\n\t\t\t<p><slot name="sovratitolo"></slot></p>\n\t\t</h1>\n\t\t<h2 id="tasto-personalizzazione">\n\t\t\t<p>Customize</p>\n\t\t</h2>\n\t\t\n\t\t<div id="modello">\n\t\t\t<slot name="3dviewport"></slot>\n\t\t</div>\n\t\t<div id="contenuti">\n\t\t\t<h1><slot name="titolo"></slot></h1>\n\t\t\t<p><slot name="testo"></slot></p>\n\t\t</div>\n\t\t\n\t\t<div id="customize">\n\t\t\t<h2>Customize your model</h2>\n\t\t\t<p>Click the color swatches to choose a different color for each part</p>\n\t\t\t<div class="swatches">\n\t\t\t\t<h3>Lens color:</h3>\n\t\t\t\t<div class="color lenti" style="background-color:rgb(20,20,20)"></div>\n\t\t\t\t<div class="color lenti" style="background-color:rgb(255,0,0)"></div>\n\t\t\t\t<div class="color lenti" style="background-color:rgb(0,255,0)"></div>\n\t\t\t\t<div class="color lenti" style="background-color:rgb(0,0,255)"></div>\n\t\t\t\t<div class="color lenti" style="background-color:rgb(255,255,0)"></div>\n\t\t\t</div>\n\t\t\t<div class="swatches">\n\t\t\t\t<h3>Frame color:</h3>\n\t\t\t\t<div class="color montatura" style="background-color:rgb(200,200,200)"></div>\n\t\t\t\t<div class="color montatura" style="background-color:rgb(255,255,0)"></div>\n\t\t\t\t<div class="color montatura" style="background-color:rgb(200,0,0)"></div>\n\t\t\t\t<div class="color montatura" style="background-color:rgb(0,200,0)"></div>\n\t\t\t\t<div class="color montatura" style="background-color:rgb(0,0,200)"></div>\n\t\t\t</div>\n\t\t\t<div class="swatches">\n\t\t\t\t<h3>Details color:</h3>\n\t\t\t\t<div class="color dettagli" style="background-color:rgb(20,20,20)"></div>\n\t\t\t\t<div class="color dettagli" style="background-color:rgb(255,255,0)"></div>\n\t\t\t\t<div class="color dettagli" style="background-color:rgb(255,0,0)"></div>\n\t\t\t\t<div class="color dettagli" style="background-color:rgb(0,255,0)"></div>\n\t\t\t\t<div class="color dettagli" style="background-color:rgb(0,0,255)"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\n\t\t'}connectedCallback(){let t=this.shadowRoot;document.addEventListener("scroll",(()=>{})),t.querySelector("#tasto-personalizzazione").querySelector("p").addEventListener("click",(e=>{"Customize"==e.target.innerHTML?(e.target.innerHTML="Overview",t.getElementById("contenuti").style.display="none",t.getElementById("customize").style.display="block"):(e.target.innerHTML="Customize",t.getElementById("contenuti").style.display="block",t.getElementById("customize").style.display="none")}));for(let e of t.querySelectorAll(".color"))e.addEventListener("click",(t=>{let e=t.target.style.backgroundColor,n=t.target.className;n.includes("lenti")?n="lenti":n.includes("montatura")?n="montatura":n.includes("dettagli")&&(n="dettagli"),window.cambiaColore(e,n)}))}}),customElements.define("fascia-polaroid",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML='\n\t\t<style>\n\t\t\t:host{\n\t\t\t\tbackground-color:white;\n\t\t\t\tdisplay:grid;\n\t\t\t\tgrid-template-columns: 3% 94% 3%;\n\t\t\t\tgrid-template-rows:3em auto;\n\t\t\t\tgrid-template-areas: "sinsitra titolo centro" "sinsitra testo centro" "sinsitra galleria centro";\n\t\t\t\tposition:relative;\n\t\t\t\twidth:100%;\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:0;\n\t\t\t\tpadding:1.5 em 0;\n\t\t\t\toverflow:hidden;\n\t\t\t}\n\t\t\t#titolo{\n\t\t\t\tfont-family: \'Indie Flower\', cursive;\n\t\t\t\tgrid-area:titolo;\n\t\t\t\tfont-size: 2em;\n\t\t\t\tcolor:black;\n\t\t\t\tpadding-right:2em;\n\t\t\t\ttext-align: right;\n\t\t\t}\n\t\t\t#testo{\n\t\t\t\tgrid-area:testo;\n\t\t\t\tcolor:black;\n\t\t\t\ttext-align: right;\n\t\t\t\tfont-family: \'Lato\', sans-serif;\n\t\t\t}\n\t\t\t#galleria{\n\t\t\t\tpadding:2em;\n\t\t\t\theight:10em;\n\t\t\t\tgrid-area:galleria;\n\t\t\t\tdisplay:flex;\n\t\t\t\tposition:relative;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:center;\n\t\t\t}\n\t\t\t#galleria div{\n\t\t\t\theight:8em;\n\t\t\t\twidth:6.5em;\n\t\t\t\tbackground-color:white;\n\t\t\t\tborder-radius:1px;\n\t\t\t\tbox-shadow: 5px 5px 5px gray;\n\t\t\t\tposition:relative;\n\t\t\t\tcursor:pointer;\n\t\t\t}\n\t\t\t#galleria div img{\n\t\t\t\tobject-fit:cover;\n\t\t\t\theight:6em;\n\t\t\t\twidth:6em;\n\t\t\t\tposition:relative;\n\t\t\t\ttop:.25em;\n\t\t\t\tleft:.25em;\n\t\t\t}\n\t\t\t#galleria div p{\n\t\t\t\tfont-family: \'Indie Flower\', cursive;\n\t\t\t\ttext-align:center;\n\t\t\t\tposition:relative;\n\t\t\t\tbottom:.8em;\n\t\t\t}\n\t\t\t@keyframe scaleUp{\n\t\t\t\tfrom {transform: scale(0);}\n\t\t\t\tto {transform: scale(1);}\n\t\t\t}\n\t\t\t#schermo{\n\t\t\t\tdisplay:none;\n\t\t\t\tposition:fixed;\n\t\t\t\ttop:0;\n\t\t\t\tleft:0;\n\t\t\t\theight:100%;\n\t\t\t\twidth:100%;\n\t\t\t\tbackground-color:rgba(0,0,0,.25);\n\t\t\t\tz-index:20;\n\t\t\t}\n\t\t\t#schermo div{\n\t\t\t\theight:80vmin;\n\t\t\t\twidth:70vmin;\n\t\t\t\tbackground-color:white;\n\t\t\t\tmargin:auto;\n\t\t\t\tposition:relative;\n\t\t\t\ttop:10vmin;\n\t\t\t\tbox-shadow:10px 10px 10px black;\n\t\t\t}\n\t\t\t#schermo div img{\n\t\t\t\tobject-fit:cover;\n\t\t\t\theight:60vmin;\n\t\t\t\twidth:60vmin;\n\t\t\t\tposition:relative;\n\t\t\t\tleft:5vmin;\n\t\t\t\ttop:5vmin;\n\t\t\t\topacity:1;\n\t\t\t}\n\t\t\t#schermo div p{\n\t\t\t\tfont-family: \'Indie Flower\', cursive;\n\t\t\t\ttext-align: center;\n\t\t    width: 100%;\n\t\t    position: absolute;\n\t\t    bottom: -1vmin;\n\t\t    font-size: 5vmin;\n\t\t\t}\n\n\t\t\t@media only screen and (min-width:768px){\n\t\t\t\t:host{\n\t\t\t\t\tgrid-template-columns: 3% 45% 4% 45% 3%;\n\t\t\t\t\tgrid-template-areas: "sinsitra titolo centro galleria destra" "sinsitra testo centro galleria destra";\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t\t\n\t\t<div id="schermo">\n\t\t\t<div>\n\t\t\t\t<img id="bigimage">\n\t\t\t\t<p id="bigtesto"></p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div id="titolo">\n\t\t\t<slot id="testoTitolo" name="titolo"></slot>\n\t\t</div>\n\t\t<div id="testo"><slot name="testo"></slot></div>\n\t\t<div id="galleria">\n\t\t</div>\n\t\t'}connectedCallback(){const t=this.getAttribute("immagini").split(" ");t.length;for(let[e,n]of t.entries()){let t=document.createElement("div");t.style.transform=`rotate(${10*e-10}deg)`;let i=document.createElement("img");i.setAttribute("src",`./images/${n}.jpg`),t.append(i);let a=document.createElement("p");a.innerHTML=`${n}`,t.append(a),this.shadowRoot.getElementById("galleria").append(t)}this.shadowRoot.getElementById("schermo").addEventListener("click",(t=>{let e=t.target;"schermo"!=e.getAttribute("id")&&("IMG"==t.target.nodeName||"P"==t.target.nodeName?e=t.target.parentNode.parentNode:"DIV"==t.target.nodeName&&(e=t.target.parentNode)),e.style.display="none"}));for(let[t,e]of this.shadowRoot.getElementById("galleria").querySelectorAll("div").entries())e.addEventListener("click",(t=>{let e=t.target;"IMG"!=t.target.nodeName&&"P"!=t.target.nodeName||(e=t.target.parentNode);let n=e.querySelector("img").getAttribute("src");this.shadowRoot.getElementById("bigimage").setAttribute("src",n),n=n.split("/"),n=n[n.length-1].split(".")[0],this.shadowRoot.getElementById("bigtesto").innerHTML=n,this.shadowRoot.getElementById("schermo").style.display="block"}));document.addEventListener("scroll",(()=>{const t=this.getBoundingClientRect(),e=window.innerWidth,n=window.innerHeight;let i=.5*(t.top+t.bottom)/n;if(i=1-2*Math.abs(i-.5),i<=0&&(this.shadowRoot.getElementById("schermo").style.display="none"),i<.5){this.shadowRoot.getElementById("titolo").style.transform=`translate(${-e*(.5-i)}px)`,this.style.opacity=.5+i;for(let[t,n]of this.shadowRoot.getElementById("galleria").querySelectorAll("div").entries())n.style.transform=`rotate(${10*t-10}deg) translate(${e*(.5-i)}px)`,n.querySelector("img").style.filter=`grayscale(${100*i}%)`}else{this.shadowRoot.getElementById("titolo").style.transform="translate(0px)",this.style.opacity=1;for(let[t,e]of this.shadowRoot.getElementById("galleria").querySelectorAll("div").entries())e.style.transform=`rotate(${10*t-10}deg) translate(0px)`,e.querySelector("img").style.filter="grayscale(0%)"}}))}}),customElements.define("autumn-confetti",class extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});this.x=1,this.y=1,this.delta=1e3,this.n=25,this.initial=5,this.quadri=[],t.innerHTML='\n\t\t<style>\n\t\t\t:host{\n\t\t\t\tposition:relative;\n\t\t\t\t--total-height:25em;\n\t\t\t\t--square-side:20em;\n\t\t\t\tdisplay:block;\n\t\t\t\twidth:100%;\n\t\t\t\theight:var(--total-height);\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:0;\n\t\t\t\tfont-family: \'Lato\', sans-serif;\n\t\t\t\toverflow:hidden;\n\t\t\t}\n\t\t\t#container{\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tbox-sizing:border-box;\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:1em;\n\t\t\t\tbackground-image:url(./images/onda.svg);\n\t\t\t\tbackground-position: center;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-size: cover;\n\t\t\t\tposition: relative;\n\t\t\t\tz-index:0;\n\t\t\t}\n\t\t\t::slotted(p){\n\t\t\t\tposition:relative;\n\t\t\t\twidth:60%;\n\t\t\t\ttext-align: justify;\n\t\t\t\tbackground-color:rgba(255,255,200,.8);\n\t\t\t\tpadding:1em;\n\t\t\t\tborder-radius:3px;\n\t\t\t\tborder:1px solid rgba(50,10,10,.2);\n\t\t\t\ttransition:transform .5s;\n\t\t\t}\n\t\t\t::slotted(p:nth-child(even)){\n\t\t\t\tleft:0;\n\t\t\t}\n\t\t\t::slotted(p:before :nth-child(2n) ){\n\t\t\t\tcontent: "aaa";\n\t\t\t\twidth: 10px;\n\t\t\t\theight: 10px;\n\t\t\t\tbackground-color:red;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: 0px;\n\t\t\t\ttop: 0px;\n\t\t\t}\n\t\t\t::slotted(p:nth-child(odd)){\n\t\t\t\tleft:calc( 40% - 3em);\n\t\t\t}\n\t\t\t#quadro{\n\t\t\t\twidth:var(--square-side);\n\t\t\t\theight:var(--square-side);\n\t\t\t\tbackground-color:red;\n\t\t\t\tperspective:50px;\n\t\t\t\ttransform-style: preserve-3d;\n\t\t\t}\n\n\t\t\t@keyframes animation-0{\n\t\t\t\t0% {transform:translateX(0px) translateY(-200px) rotateX(80deg) rotateY(20deg) rotateZ(30deg);}\n\t\t\t\t100% {transform:translateX(130px) translateY(calc(var(--total-height) + 2em)) rotateX(170deg) rotateY(-120deg) rotateZ(250deg);}\n\t\t\t}\n\t\t\t@keyframes animation-1{\n\t\t\t\t0% {transform:translateX(0px) translateY(-250px) rotateX(-20deg) rotateY(20deg) rotateZ(-30deg);}\n\t\t\t\t100% {transform:translateX(150px) translateY(calc(var(--total-height) + 2em)) rotateX(150deg) rotateY(120deg) rotateZ(-300deg);}\n\t\t\t}\n\t\t\t@keyframes animation-2{\n\t\t\t\t0% {transform:translateX(0px) translateY(-150px) rotateX(60deg) rotateY(-20deg) rotateZ(30deg);}\n\t\t\t\t100% {transform:translateX(100px) translateY(calc(var(--total-height) + 2em)) rotateX(-120deg) rotateY(90deg) rotateZ(200deg);}\n\t\t\t}\n\t\t\t@keyframes animation-3{\n\t\t\t\t0% {transform:translateX(0px) translateY(-150px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);}\n\t\t\t\t100% {transform:translateX(180px) translateY(calc(var(--total-height) + 2em)) rotateX(-120deg) rotateY(90deg) rotateZ(200deg);}\n\t\t\t}\n\t\t\t.base-animazione{\n\t\t\t\tanimation-direction:normal;\n\t\t\t\tanimation-timing-function:linear;\n\t\t\t\tanimation-iteration-count:infinite;\n\t\t\t}\n\n\t\t\t.scroller{\n\t\t\t\tposition:absolute;\n\t\t\t\tz-index:20;\n\t\t\t}\n\t\t\t#scrollerUp{\n\t\t\t\ttop:1em;\n\t\t\t\tright:1em;\n\t\t\t}\n\t\t\t#scrollerDown{\n\t\t\t\tbottom:1em;\n\t\t\t\tright:1em;\n\t\t\t}\n\n\t\t\t#input{\n\t\t\t\tposition:absolute;\n\t\t\t\tbottom:1em;\n\t\t\t\tright:5em;\n\t\t\t}\n\t\t\t#text{\n\t\t\t\tfont-family: \'Lato\', sans-serif;\n\t\t\t\twidth:25em;\n\t\t\t\theight:1.5em;\n\t\t\t\tfont-size:1em;\n\t\t\t\tline-heigh:1.5em;\n\t\t\t}\n\t\t\t#writebtn{\n\t\t\t\tfont-family: \'Lato\', sans-serif;\n\t\t\t\tmargin:0;\n\t\t\t\theight:2em;\n\t\t\t\tfont-size:1em;\n\t\t\t\tline-height:1.5em;\n\t\t\t\tborder-radius:5px;\n\t\t\t\tbackground-color:rgb(0,255,0);\n\t\t\t}\n\n\t\t\t@media only screen and (min-width:768px){\n\t\t\t}\n\t\t</style>\n\n\t\t\n\t\t<button id="scrollerUp" class="scroller">\n\t\t\t<img src="./images/arrow_upward.svg">\n\t\t</button>\n\t\t<button id="scrollerDown" class="scroller">\n\t\t\t<img src="./images/arrow_downward.svg">\n\t\t</button>\n\t\t\n\t\t<div id="container">\n\t\t\t<slot></slot>\n\t\t\t<div id="input">\n\t\t\t\t<input type="text" id="text" value="">\n\t\t\t\t<button id="writebtn">Send</button>\n\t\t\t</div>\n\n\t\t</div>\n\t\t'}connectedCallback(){let[t,e]=this.hasAttribute("dim")?this.getAttribute("dim").split(","):[1,1];this.x=this.hasAttribute("dim")?Number(t):1,this.y=this.hasAttribute("dim")?Number(e):1,this.n=this.hasAttribute("n")?Number(this.getAttribute("n")):30,this.init=this.hasAttribute("init")?Number(this.getAttribute("init")):5,this.delta=this.hasAttribute("delta")?Number(this.getAttribute("delta")):1e3;for(let t=0;t<this.initial;t++)this.addLeaf();setInterval((()=>{this.addLeaf()}),this.delta),this.actualHeight=0,this.shadowRoot.getElementById("writebtn").addEventListener("click",(()=>{let t=this.shadowRoot.getElementById("text");if(""!=t){let e=document.createElement("p");e.innerHTML=t.value,console.log(document.querySelector("autumn-confetti")),document.querySelector("autumn-confetti").insertAdjacentElement("beforeend",e),t.value="",this.actualHeight-=parseFloat(getComputedStyle(e).height)/16+3.25,this.scroll()}})),this.actualHeight=0,this.shadowRoot.getElementById("scrollerUp").addEventListener("click",(()=>{this.actualHeight=Math.min(this.actualHeight+5,0),this.scroll()})),this.shadowRoot.getElementById("scrollerDown").addEventListener("click",(()=>{this.actualHeight=Math.min(this.actualHeight-5,0),this.scroll()}))}scroll(){for(let t of this.shadowRoot.querySelector("slot").assignedElements())t.style.transform=`translateY(${this.actualHeight}em)`}addLeaf(){if(this.quadri.length<this.n){let t=this.shadowRoot.getElementById("container"),e=Math.floor(100*Math.random()),n=-Math.floor(10*Math.random()),i=5-Math.floor(10*Math.random()),a=document.createElement("div");a.style=`\n\t\t\t\tposition:absolute;\n\t\t\t\tleft:${e}%;\n\t\t\t\ttop:${n}%;\n\t\t\t\twidth:${this.x+.1*i}em;\n\t\t\t\theight:${this.y+.1*i}em;\n\t\t\t\tz-index:${i};\n\t\t\t\tbackground-size:cover;\n\t\t\t`,this.hasAttribute("image")?(a.style.backgroundImage=`url(./images/${this.getAttribute("image")})`,a.style.filter=`hue-rotate(${Math.floor(100*Math.random())}deg)`):a.style.backgroundColor="red",a.className="base-animazione";let o=Math.floor(4*Math.random());a.style.animationName=`animation-${o}`;let r=Math.floor(8+5*Math.random());a.style.animationDuration=`${r}s`,this.quadri.push(a),t.append(a)}else clearInterval(this.addLeaf)}}),customElements.define("game-carousel",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML='\n\t\t<style>\n\t\t\t:host{\n\t\t\t\tbackground-color:black;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:row;\n\t\t\t\tposition:relative;\n\t\t\t\twidth:100%;\n\t\t\t\theight:500px;\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:0;\n\t\t\t\tpadding:1.5 em 0;\n\t\t\t\toverflow:hidden;\n\t\t\t}\n\t\t\t#carousel{\n\t\t\t\tposition:relative;\n\t\t\t\tleft:250px;\n\t\t\t\ttop:50px;\n\t\t\t\ttransform-style:preserve-3d;\n\t\t\t\tperspective:600px;\n\t\t\t\twidth:60%;\n\t\t\t\theight:400px;\n\t\t\t\ttransform-origin:50% 50%;\n\t\t\t}\n\t\t\t#carousel > div{\n\t\t\t\tborder:1px solid gray;\n\t\t\t\tborder-radius:6px;\n\t\t\t\tbackground-color:white;\n\t\t\t\tposition:absolute;\n\t\t\t\theight:180px;\n\t\t\t\twidth:240px;\n\t\t\t\ttop:calc(50% - 90px);\n\t\t\t\tleft:calc(50% - 120px);\n\t\t\t\ttransition:transform .5s;\n\t\t\t\ttransform-origin:0 100%;\n\t\t\t}\n\t\t\t\n\t\t\t#carousel > div > img{\n\t\t\t\tdisplay:block;\n\t\t\t\tposition:relative;\n\t\t\t\tmargin:2%;\n\t\t\t\theight:95%;\n\t\t\t\twidth:95%;\n\t\t\t}\n\t\t\t#testo{\n\t\t\t\tpadding: 0 2em;\n\t\t\t\tfont-family: \'Lato\', sans-serif;\n\t\t\t\tcolor:white;\n\t\t\t\ttext-align: center;\n\t\t\t\twidth:80%;\n\t\t\t}\n\t\t\tbutton{\n\t\t\t\tmargin:50px 10px;\n\t\t\t\tbrder-radius:3px;\n\t\t\t}\n\t\t\ta{\n\t\t\t\tcolor:white;\n\t\t\t}\n\t\t</style>\n\t\t\n\t\t<div id="carousel"></div>\n\t\t<div style="display:flex;flex-direction:column;z-index:20;justify-content:space-between;align-items:center;width:40%;">\n\t\t\t<div id="testo"></div>\n\t\t\t<div style="display:flex;">\n\t\t\t\t<button id="indBtn">Prev</button>\n\t\t\t\t<button id="avaBtn">Next</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t'}connectedCallback(){this.carousel=this.shadowRoot.getElementById("carousel");let t=this.getAttribute("immagini").split(" ");this.prof=20,this.left=-150;for(let e=0;e<t.length;e++){let n=document.createElement("div");n.classList.add("closed"),n.setAttribute("indice",e),n.style.transform=`translate3d(${this.left}px,0,${200-e*this.prof}px) rotateZ(-90deg)`,this.carousel.append(n);let i=document.createElement("img");i.src=`./images/${t[e]}`,n.append(i)}this.testo=this.shadowRoot.getElementById("testo"),this.actualIndex=0,this.shadowRoot.getElementById("avaBtn").addEventListener("click",(()=>{this.actualIndex++,this.actualIndex%=t.length,this.changeCard()})),this.shadowRoot.getElementById("indBtn").addEventListener("click",(()=>{this.actualIndex--,this.actualIndex<0&&(this.actualIndex=t.length),this.changeCard()})),this.changeCard()}changeCard(){for(let t of this.shadowRoot.querySelectorAll("#carousel > div")){let e=parseInt(t.getAttribute("indice"));e==this.actualIndex||t.className.includes("closed")?e==this.actualIndex&&t.className.includes("closed")&&(t.style.transform=`translate3d(${this.left}px,0,${200-e*this.prof}px) rotateZ(0deg)`,t.classList.remove("closed")):(t.style.transform=`translate3d(${this.left}px,0,${200-e*this.prof}px) rotateZ(-90deg)`,t.classList.add("closed"))}switch(this.actualIndex){case 0:case 1:case 2:case 3:this.testo.innerHTML='\n\t\t\t\t<h1>Drone Leaves</h1>\n\t\t\t\t<p>\n\t\t\t\t\tA silly game where you pilot a drone to push around fallen leaves. On top\n\t\t\t\t\tof a mountain. Without a real goal, the game is an entry to <b>The Great Autumn\n\t\t\t\t\tGame Jam 2021</b> and was made in roughly three week, starting from scratch: no\n\t\t\t\t\tframework or codebase. Assets are entirely original.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tGraphics are built almost entirely with <b>Threejs</b>, terrain generation \n\t\t\t\t\tmakes use of color channels of small bitmaps and physics are simulated\n\t\t\t\t\tusing <b>Cannon-es</b>, which runs on a separate thread. On the right browser\n\t\t\t\t\thundreds of objects can be on screen with decent performances.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="https://ilbarbogio.itch.io/droneleaves" target="blank">You can play it here</a>\n\t\t\t\t</p>\n\t\t\t\t';break;case 4:case 5:case 6:this.testo.innerHTML='\n\t\t\t\t<h1>Adventure Extraordinaire</h1>\n\t\t\t\t<p>\n\t\t\t\t\tA short text-adventure game with two episodes, made for the <b>Text Adventure\n\t\t\t\t\tLiteracy Jam</b>. Gameplay and graphics are intendend to mimic the style\n\t\t\t\t\tof some of the earliest video game in the adventure genre.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tCoded without the help of a single framework or library, assets and story \n\t\t\t\t\tare originals produced expressly for the game.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="https://ilbarbogio.itch.io/adventures-extraordinaire-talp" target="blank">You can play it here</a>\n\t\t\t\t</p>\n\t\t\t\t';break;case 7:case 8:case 9:this.testo.innerHTML='\n\t\t\t\t<h1>Pico\'s Big Adventure</h1>\n\t\t\t\t<p>\n\t\t\t\t\tA platform game made for <b>Pico8</b>, a fantasy console with strict limits on memory\n\t\t\t\t\tusage and a lua-like langauge. It\'s a remake/port of Terry\'s Big Adventure, a really\n\t\t\t\t\told title in video game terms.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tAll graphics and code from scratch as a learning exercise, and lot of optimization\n\t\t\t\t\twas required to fit three levels and some sounds into the strict limits imposed.\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<a href="http://localhost:5501/Varie/Portfolio/dist/index.html" target="blank">You can play it here</a>\n\t\t\t\t</p>\n\t\t\t\t';break;default:this.testo.innerHTML="\n\t\t\t\t<p>Click to look at the slides!</p>\n\t\t\t\t"}}});